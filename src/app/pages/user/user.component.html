<div *ngIf="searching; else formToUser">
    <app-loader></app-loader>
</div>

<ng-template #formToUser>
    <form class="row justify-content-center bg-form" [formGroup]="formUser">

        <img src="https://i.imgur.com/LW0kgNH.png" class="img-logo">
    
        <h1>Ingresa tus datos para solicitar tu prestamo!</h1>
    
        <div class="form-group col-12 col-md-6">
            <label for="exampleInputEmail1">Nombre</label>
            <input type="text" class="form-control" formControlName="name" readonly>
        </div>
    
        <div class="form-group col-12 col-md-6">
            <label for="exampleInputEmail1">Apellido</label>
            <input type="text" class="form-control" formControlName="surname" readonly>
        </div>
    

        <div class="form-group col-12">
            <label for="exampleInputEmail1">Email</label>
            <input type="text" class="form-control" formControlName="email" readonly>
        </div>

        <div class="form-group col-12">
            <label for="exampleInputEmail1">Teléfono <span>*</span></label>
            <input type="text" class="form-control" formControlName="phone">
        </div>
    
        <div class="form-group col-12">
            <label for="exampleInputEmail1">Edad <span>*</span></label>
            <input type="number" class="form-control" formControlName="age">
        </div>
        
        <div class="form-group col-12">
            <label for="exampleInputEmail1">Importe de Préstamo <span>*</span></label>
            <input type="number" class="form-control" formControlName="loan_amount" [ngClass]="{'rojo': !formUser.controls.loan_amount.valid}">
            <small id="emailHelp" class="form-text text-muted">Más de $10 y hasta $1.000</small>
        </div>
    
        <div class="form-group col-12">
            <label for="exampleInputEmail1">Fecha a conseguir el préstamo <span>*</span></label>
            <input  class="form-control"
                    formControlName="loan_date"
                    bsDatepicker
                    [bsConfig]="bsConfig"
                    [minDate]="minDate" >
        </div>
    
        <div class="form-group col-12">
            <label for="exampleInputEmail1">Tiempo a devolver <span>*</span></label>
            <select class="form-control" formControlName="loan_weeks">
                <option [value]="week" *ngFor="let week of weeks">
                    {{ week }} Semana<span *ngIf="week > 1">s</span>
                </option>
            </select>
        </div>
    
        <div class="form-group form-check col-12 text-center">
            <input type="checkbox" class="form-check-input" formControlName="check">
            <label class="form-check-label" for="exampleCheck1">Acepto los Términos y Condiciones de <a href="https://comparte.bnext.io/privacidad" target="_blank">Bnext.io</a></label>
        </div>
        
        <div class="col-12 text-center">
            <button class="btn-send mb-5" 
                    [disabled]="!formUser.valid || saving"
                    (click)="updateUser();">
                    <i class="fa fa-circle-o-notch fa-spin" aria-hidden="true" *ngIf="saving"></i>
                    <b *ngIf="!saving">Actualizar Usuario</b>
            </button>
        </div>
    
    </form>
</ng-template>
